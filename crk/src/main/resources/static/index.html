<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport"
	content="width=device-width, initial-scale=1, maximum-scale=1">
<link rel="stylesheet" href="/js/layui/css/layui.css">
<title>首页</title>
</head>
<body>
	<div class="layui-tab layui-tab-card">
		<ul class="layui-tab-title layui-bg-green">
			<li class="layui-this">商品库存</li>
			<li>入库明细</li>
			<li>出库明细</li>
		</ul>
		<div class="layui-tab-content">
			<div class="layui-tab-item layui-show">
				<table id="product" lay-filter="productFilter"></table>
				<script type="text/html" id="productToolbar">
  <div class="layui-btn-container">
    <button class="layui-btn layui-btn-sm" lay-event="addProduct">添加新商品</button>
  </div>
				</script>
			</div>
			<div class="layui-tab-item">2</div>
			<div class="layui-tab-item">3</div>
		</div>
	</div>
	<script src="/js/layui/layui.all.js"></script>
	<script>
	//由于模块都一次性加载，因此不用执行 layui.use() 来加载对应模块，直接使用即可：
	// ！表示立即执行的匿名函数
;!function() {
	var $ = layui.jquery;
	var layer = layui.layer;
	var table = layui.table;
	  table.render({
	    elem: '#product'
	    ,toolbar: '#productToolbar'
	    ,height: 312
	    ,url: '/product/pageList' //数据接口
	    ,page: true //开启分页
	    ,cols: [[ //表头
	      {field: 'productBrand', title: '品牌' ,fixed: 'left'}
	      ,{field: 'productType', title: '分类' }
	      ,{field: 'productItem', title: '货号' }
	      ,{field: 'suitableSeason', title: '适用季节'} 
	      ,{field: 'suitableSex', title: '适用性别'}
	      ,{field: 'productSize', title: '尺寸'}
	      ,{field: 'productColor', title: '颜色'}
	      ,{field: 'productStock', title: '库存'}
	    ]]
	    ,response: {
	        statusName: 'code' //规定数据状态的字段名称，默认：code
	        ,statusCode: 0 //规定成功的状态码，默认：0
	        ,msgName: 'value' //规定状态信息的字段名称，默认：msg
	        ,countName: 'data.total' //规定数据总数的字段名称，默认：count
	        ,dataName: 'data.list' //规定数据列表的字段名称，默认：data
	      } 
	  });
	  
	  table.on('toolbar(productFilter)', function(obj){
		  console.log(obj);
		  switch(obj.event){
		    case 'addProduct':
		    	layer.open({
		    		  type: 2,
		    		  content: '/html/addProduct.html' //这里content是一个DOM，注意：最好该元素要存放在body最外层，否则可能被其它的相对元素所影响
		    		});
		    break;
		  };
		});
	  
	}();
</script>
</body>
</html>